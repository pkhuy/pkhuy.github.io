{"ast":null,"code":"\"use strict\";\n\nvar Commons = require(\"./commons\");\n\nvar CustomEventTarget = require(\"./custom-event-target\");\n\nvar EventWrapper = require(\"./event-wrapper\");\n\nvar LISTENERS = Commons.LISTENERS;\nvar CAPTURE = Commons.CAPTURE;\nvar BUBBLE = Commons.BUBBLE;\nvar ATTRIBUTE = Commons.ATTRIBUTE;\nvar newNode = Commons.newNode;\nvar defineCustomEventTarget = CustomEventTarget.defineCustomEventTarget;\nvar createEventWrapper = EventWrapper.createEventWrapper;\nvar STOP_IMMEDIATE_PROPAGATION_FLAG = EventWrapper.STOP_IMMEDIATE_PROPAGATION_FLAG;\nvar HAS_EVENTTARGET_INTERFACE = typeof window !== \"undefined\" && typeof window.EventTarget !== \"undefined\";\n\nvar EventTarget = module.exports = function EventTarget() {\n  if (this instanceof EventTarget) {\n    Object.defineProperty(this, LISTENERS, {\n      value: Object.create(null)\n    });\n  } else if (arguments.length === 1 && Array.isArray(arguments[0])) {\n    return defineCustomEventTarget(EventTarget, arguments[0]);\n  } else if (arguments.length > 0) {\n    var types = Array(arguments.length);\n\n    for (var i = 0; i < arguments.length; ++i) {\n      types[i] = arguments[i];\n    }\n\n    return defineCustomEventTarget(EventTarget, types);\n  } else {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nEventTarget.prototype = Object.create((HAS_EVENTTARGET_INTERFACE ? window.EventTarget : Object).prototype, {\n  constructor: {\n    value: EventTarget,\n    writable: true,\n    configurable: true\n  },\n  addEventListener: {\n    value: function addEventListener(type, listener, capture) {\n      if (listener == null) {\n        return false;\n      }\n\n      if (typeof listener !== \"function\" && typeof listener !== \"object\") {\n        throw new TypeError(\"\\\"listener\\\" is not an object.\");\n      }\n\n      var kind = capture ? CAPTURE : BUBBLE;\n      var node = this[LISTENERS][type];\n\n      if (node == null) {\n        this[LISTENERS][type] = newNode(listener, kind);\n        return true;\n      }\n\n      var prev = null;\n\n      while (node != null) {\n        if (node.listener === listener && node.kind === kind) {\n          return false;\n        }\n\n        prev = node;\n        node = node.next;\n      }\n\n      prev.next = newNode(listener, kind);\n      return true;\n    },\n    configurable: true,\n    writable: true\n  },\n  removeEventListener: {\n    value: function removeEventListener(type, listener, capture) {\n      if (listener == null) {\n        return false;\n      }\n\n      var kind = capture ? CAPTURE : BUBBLE;\n      var prev = null;\n      var node = this[LISTENERS][type];\n\n      while (node != null) {\n        if (node.listener === listener && node.kind === kind) {\n          if (prev == null) {\n            this[LISTENERS][type] = node.next;\n          } else {\n            prev.next = node.next;\n          }\n\n          return true;\n        }\n\n        prev = node;\n        node = node.next;\n      }\n\n      return false;\n    },\n    configurable: true,\n    writable: true\n  },\n  dispatchEvent: {\n    value: function dispatchEvent(event) {\n      var node = this[LISTENERS][event.type];\n\n      if (node == null) {\n        return true;\n      }\n\n      var wrapped = createEventWrapper(event, this);\n\n      while (node != null) {\n        if (typeof node.listener === \"function\") {\n          node.listener.call(this, wrapped);\n        } else if (node.kind !== ATTRIBUTE && typeof node.listener.handleEvent === \"function\") {\n          node.listener.handleEvent(wrapped);\n        }\n\n        if (wrapped[STOP_IMMEDIATE_PROPAGATION_FLAG]) {\n          break;\n        }\n\n        node = node.next;\n      }\n\n      return !wrapped.defaultPrevented;\n    },\n    configurable: true,\n    writable: true\n  }\n});","map":{"version":3,"sources":["F:/Expo/rnn-zoom-WebRTC/zoom/node_modules/react-native-webrtc/node_modules/event-target-shim/lib/event-target.js"],"names":["Commons","require","CustomEventTarget","EventWrapper","LISTENERS","CAPTURE","BUBBLE","ATTRIBUTE","newNode","defineCustomEventTarget","createEventWrapper","STOP_IMMEDIATE_PROPAGATION_FLAG","HAS_EVENTTARGET_INTERFACE","window","EventTarget","module","exports","Object","defineProperty","value","create","arguments","length","Array","isArray","types","i","TypeError","prototype","constructor","writable","configurable","addEventListener","type","listener","capture","kind","node","prev","next","removeEventListener","dispatchEvent","event","wrapped","call","handleEvent","defaultPrevented"],"mappings":"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","sourcesContent":["/**\n * @author Toru Nagashima\n * @copyright 2015 Toru Nagashima. All rights reserved.\n * See LICENSE file in root directory for full license.\n */\n\n\"use strict\";\n\n//-----------------------------------------------------------------------------\n// Requirements\n//-----------------------------------------------------------------------------\n\nvar Commons = require(\"./commons\");\nvar CustomEventTarget = require(\"./custom-event-target\");\nvar EventWrapper = require(\"./event-wrapper\");\nvar LISTENERS = Commons.LISTENERS;\nvar CAPTURE = Commons.CAPTURE;\nvar BUBBLE = Commons.BUBBLE;\nvar ATTRIBUTE = Commons.ATTRIBUTE;\nvar newNode = Commons.newNode;\nvar defineCustomEventTarget = CustomEventTarget.defineCustomEventTarget;\nvar createEventWrapper = EventWrapper.createEventWrapper;\nvar STOP_IMMEDIATE_PROPAGATION_FLAG =\n    EventWrapper.STOP_IMMEDIATE_PROPAGATION_FLAG;\n\n//-----------------------------------------------------------------------------\n// Constants\n//-----------------------------------------------------------------------------\n\n/**\n * A flag which shows there is the native `EventTarget` interface object.\n *\n * @type {boolean}\n * @private\n */\nvar HAS_EVENTTARGET_INTERFACE = (\n    typeof window !== \"undefined\" &&\n    typeof window.EventTarget !== \"undefined\"\n);\n\n//-----------------------------------------------------------------------------\n// Public Interface\n//-----------------------------------------------------------------------------\n\n/**\n * An implementation for `EventTarget` interface.\n *\n * @constructor\n * @public\n */\nvar EventTarget = module.exports = function EventTarget() {\n    if (this instanceof EventTarget) {\n        // this[LISTENERS] is a Map.\n        // Its key is event type.\n        // Its value is ListenerNode object or null.\n        //\n        // interface ListenerNode {\n        //     var listener: Function\n        //     var kind: CAPTURE|BUBBLE|ATTRIBUTE\n        //     var next: ListenerNode|null\n        // }\n        Object.defineProperty(this, LISTENERS, {value: Object.create(null)});\n    }\n    else if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return defineCustomEventTarget(EventTarget, arguments[0]);\n    }\n    else if (arguments.length > 0) {\n        var types = Array(arguments.length);\n        for (var i = 0; i < arguments.length; ++i) {\n            types[i] = arguments[i];\n        }\n\n        // To use to extend with attribute listener properties.\n        // e.g.\n        //     class MyCustomObject extends EventTarget(\"message\", \"error\") {\n        //         //...\n        //     }\n        return defineCustomEventTarget(EventTarget, types);\n    }\n    else {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n};\n\nEventTarget.prototype = Object.create(\n    (HAS_EVENTTARGET_INTERFACE ? window.EventTarget : Object).prototype,\n    {\n        constructor: {\n            value: EventTarget,\n            writable: true,\n            configurable: true\n        },\n\n        addEventListener: {\n            value: function addEventListener(type, listener, capture) {\n                if (listener == null) {\n                    return false;\n                }\n                if (typeof listener !== \"function\" && typeof listener !== \"object\") {\n                    throw new TypeError(\"\\\"listener\\\" is not an object.\");\n                }\n\n                var kind = (capture ? CAPTURE : BUBBLE);\n                var node = this[LISTENERS][type];\n                if (node == null) {\n                    this[LISTENERS][type] = newNode(listener, kind);\n                    return true;\n                }\n\n                var prev = null;\n                while (node != null) {\n                    if (node.listener === listener && node.kind === kind) {\n                        // Should ignore a duplicated listener.\n                        return false;\n                    }\n                    prev = node;\n                    node = node.next;\n                }\n\n                prev.next = newNode(listener, kind);\n                return true;\n            },\n            configurable: true,\n            writable: true\n        },\n\n        removeEventListener: {\n            value: function removeEventListener(type, listener, capture) {\n                if (listener == null) {\n                    return false;\n                }\n\n                var kind = (capture ? CAPTURE : BUBBLE);\n                var prev = null;\n                var node = this[LISTENERS][type];\n                while (node != null) {\n                    if (node.listener === listener && node.kind === kind) {\n                        if (prev == null) {\n                            this[LISTENERS][type] = node.next;\n                        }\n                        else {\n                            prev.next = node.next;\n                        }\n                        return true;\n                    }\n\n                    prev = node;\n                    node = node.next;\n                }\n\n                return false;\n            },\n            configurable: true,\n            writable: true\n        },\n\n        dispatchEvent: {\n            value: function dispatchEvent(event) {\n                // If listeners aren't registered, terminate.\n                var node = this[LISTENERS][event.type];\n                if (node == null) {\n                    return true;\n                }\n\n                // Since we cannot rewrite several properties, so wrap object.\n                var wrapped = createEventWrapper(event, this);\n\n                // This doesn't process capturing phase and bubbling phase.\n                // This isn't participating in a tree.\n                while (node != null) {\n                    if (typeof node.listener === \"function\") {\n                        node.listener.call(this, wrapped);\n                    }\n                    else if (node.kind !== ATTRIBUTE && typeof node.listener.handleEvent === \"function\") {\n                        node.listener.handleEvent(wrapped);\n                    }\n\n                    if (wrapped[STOP_IMMEDIATE_PROPAGATION_FLAG]) {\n                        break;\n                    }\n                    node = node.next;\n                }\n\n                return !wrapped.defaultPrevented;\n            },\n            configurable: true,\n            writable: true\n        }\n    }\n);\n"]},"metadata":{},"sourceType":"script"}